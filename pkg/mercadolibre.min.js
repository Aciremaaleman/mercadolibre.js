;(function(){var cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(/; ?/);for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};var DESCipher={des:function(key,message,encrypt,mode,iv,padding){var spfunction1=new Array(0x1010400,0,0x10000,0x1010404,0x1010004,0x10404,0x4,0x10000,0x400,0x1010400,0x1010404,0x400,0x1000404,0x1010004,0x1000000,0x4,0x404,0x1000400,0x1000400,0x10400,0x10400,0x1010000,0x1010000,0x1000404,0x10004,0x1000004,0x1000004,0x10004,0,0x404,0x10404,0x1000000,0x10000,0x1010404,0x4,0x1010000,0x1010400,0x1000000,0x1000000,0x400,0x1010004,0x10000,0x10400,0x1000004,0x400,0x4,0x1000404,0x10404,0x1010404,0x10004,0x1010000,0x1000404,0x1000004,0x404,0x10404,0x1010400,0x404,0x1000400,0x1000400,0,0x10004,0x10400,0,0x1010004);var spfunction2=new Array(-0x7fef7fe0,-0x7fff8000,0x8000,0x108020,0x100000,0x20,-0x7fefffe0,-0x7fff7fe0,-0x7fffffe0,-0x7fef7fe0,-0x7fef8000,-0x80000000,-0x7fff8000,0x100000,0x20,-0x7fefffe0,0x108000,0x100020,-0x7fff7fe0,0,-0x80000000,0x8000,0x108020,-0x7ff00000,0x100020,-0x7fffffe0,0,0x108000,0x8020,-0x7fef8000,-0x7ff00000,0x8020,0,0x108020,-0x7fefffe0,0x100000,-0x7fff7fe0,-0x7ff00000,-0x7fef8000,0x8000,-0x7ff00000,-0x7fff8000,0x20,-0x7fef7fe0,0x108020,0x20,0x8000,-0x80000000,0x8020,-0x7fef8000,0x100000,-0x7fffffe0,0x100020,-0x7fff7fe0,-0x7fffffe0,0x100020,0x108000,0,-0x7fff8000,0x8020,-0x80000000,-0x7fefffe0,-0x7fef7fe0,0x108000);var spfunction3=new Array(0x208,0x8020200,0,0x8020008,0x8000200,0,0x20208,0x8000200,0x20008,0x8000008,0x8000008,0x20000,0x8020208,0x20008,0x8020000,0x208,0x8000000,0x8,0x8020200,0x200,0x20200,0x8020000,0x8020008,0x20208,0x8000208,0x20200,0x20000,0x8000208,0x8,0x8020208,0x200,0x8000000,0x8020200,0x8000000,0x20008,0x208,0x20000,0x8020200,0x8000200,0,0x200,0x20008,0x8020208,0x8000200,0x8000008,0x200,0,0x8020008,0x8000208,0x20000,0x8000000,0x8020208,0x8,0x20208,0x20200,0x8000008,0x8020000,0x8000208,0x208,0x8020000,0x20208,0x8,0x8020008,0x20200);var spfunction4=new Array(0x802001,0x2081,0x2081,0x80,0x802080,0x800081,0x800001,0x2001,0,0x802000,0x802000,0x802081,0x81,0,0x800080,0x800001,0x1,0x2000,0x800000,0x802001,0x80,0x800000,0x2001,0x2080,0x800081,0x1,0x2080,0x800080,0x2000,0x802080,0x802081,0x81,0x800080,0x800001,0x802000,0x802081,0x81,0,0,0x802000,0x2080,0x800080,0x800081,0x1,0x802001,0x2081,0x2081,0x80,0x802081,0x81,0x1,0x2000,0x800001,0x2001,0x802080,0x800081,0x2001,0x2080,0x800000,0x802001,0x80,0x800000,0x2000,0x802080);var spfunction5=new Array(0x100,0x2080100,0x2080000,0x42000100,0x80000,0x100,0x40000000,0x2080000,0x40080100,0x80000,0x2000100,0x40080100,0x42000100,0x42080000,0x80100,0x40000000,0x2000000,0x40080000,0x40080000,0,0x40000100,0x42080100,0x42080100,0x2000100,0x42080000,0x40000100,0,0x42000000,0x2080100,0x2000000,0x42000000,0x80100,0x80000,0x42000100,0x100,0x2000000,0x40000000,0x2080000,0x42000100,0x40080100,0x2000100,0x40000000,0x42080000,0x2080100,0x40080100,0x100,0x2000000,0x42080000,0x42080100,0x80100,0x42000000,0x42080100,0x2080000,0,0x40080000,0x42000000,0x80100,0x2000100,0x40000100,0x80000,0,0x40080000,0x2080100,0x40000100);var spfunction6=new Array(0x20000010,0x20400000,0x4000,0x20404010,0x20400000,0x10,0x20404010,0x400000,0x20004000,0x404010,0x400000,0x20000010,0x400010,0x20004000,0x20000000,0x4010,0,0x400010,0x20004010,0x4000,0x404000,0x20004010,0x10,0x20400010,0x20400010,0,0x404010,0x20404000,0x4010,0x404000,0x20404000,0x20000000,0x20004000,0x10,0x20400010,0x404000,0x20404010,0x400000,0x4010,0x20000010,0x400000,0x20004000,0x20000000,0x4010,0x20000010,0x20404010,0x404000,0x20400000,0x404010,0x20404000,0,0x20400010,0x10,0x4000,0x20400000,0x404010,0x4000,0x400010,0x20004010,0,0x20404000,0x20000000,0x400010,0x20004010);var spfunction7=new Array(0x200000,0x4200002,0x4000802,0,0x800,0x4000802,0x200802,0x4200800,0x4200802,0x200000,0,0x4000002,0x2,0x4000000,0x4200002,0x802,0x4000800,0x200802,0x200002,0x4000800,0x4000002,0x4200000,0x4200800,0x200002,0x4200000,0x800,0x802,0x4200802,0x200800,0x2,0x4000000,0x200800,0x4000000,0x200800,0x200000,0x4000802,0x4000802,0x4200002,0x4200002,0x2,0x200002,0x4000000,0x4000800,0x200000,0x4200800,0x802,0x200802,0x4200800,0x802,0x4000002,0x4200802,0x4200000,0x200800,0,0x2,0x4200802,0,0x200802,0x4200000,0x800,0x4000002,0x4000800,0x800,0x200002);var spfunction8=new Array(0x10001040,0x1000,0x40000,0x10041040,0x10000000,0x10001040,0x40,0x10000000,0x40040,0x10040000,0x10041040,0x41000,0x10041000,0x41040,0x1000,0x40,0x10040000,0x10000040,0x10001000,0x1040,0x41000,0x40040,0x10040040,0x10041000,0x1040,0,0,0x10040040,0x10000040,0x10001000,0x41040,0x40000,0x41040,0x40000,0x10041000,0x1000,0x40,0x10040040,0x1000,0x41040,0x10001000,0x40,0x10000040,0x10040000,0x10040040,0x10000000,0x40000,0x10001040,0,0x10041040,0x40040,0x10000040,0x10040000,0x10001000,0x10001040,0,0x10041040,0x41000,0x41000,0x1040,0x1040,0x40040,0x10000000,0x10041000);var keys=this.des_createKeys(key);var m=0,i,j,temp,temp2,right1,right2,left,right,looping;var cbcleft,cbcleft2,cbcright,cbcright2
var endloop,loopinc;var len=message.length;var chunk=0;var iterations=keys.length==32?3:9;if(iterations==3){looping=encrypt?new Array(0,32,2):new Array(30,-2,-2);}
else{looping=encrypt?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2);}
if(padding==2)message+="        ";else if(padding==1){temp=8-(len%8);message+=String.fromCharCode(temp,temp,temp,temp,temp,temp,temp,temp);if(temp==8)len+=8;}
else if(!padding)message+="\0\0\0\0\0\0\0\0";result="";tempresult="";if(mode==1){cbcleft=(iv.charCodeAt(m++)<<24)|(iv.charCodeAt(m++)<<16)|(iv.charCodeAt(m++)<<8)|iv.charCodeAt(m++);cbcright=(iv.charCodeAt(m++)<<24)|(iv.charCodeAt(m++)<<16)|(iv.charCodeAt(m++)<<8)|iv.charCodeAt(m++);m=0;}
while(m<len){left=(message.charCodeAt(m++)<<24)|(message.charCodeAt(m++)<<16)|(message.charCodeAt(m++)<<8)|message.charCodeAt(m++);right=(message.charCodeAt(m++)<<24)|(message.charCodeAt(m++)<<16)|(message.charCodeAt(m++)<<8)|message.charCodeAt(m++);if(mode==1){if(encrypt){left^=cbcleft;right^=cbcright;}else{cbcleft2=cbcleft;cbcright2=cbcright;cbcleft=left;cbcright=right;}}
temp=((left>>>4)^right)&0x0f0f0f0f;right^=temp;left^=(temp<<4);temp=((left>>>16)^right)&0x0000ffff;right^=temp;left^=(temp<<16);temp=((right>>>2)^left)&0x33333333;left^=temp;right^=(temp<<2);temp=((right>>>8)^left)&0x00ff00ff;left^=temp;right^=(temp<<8);temp=((left>>>1)^right)&0x55555555;right^=temp;left^=(temp<<1);left=((left<<1)|(left>>>31));right=((right<<1)|(right>>>31));for(j=0;j<iterations;j+=3){endloop=looping[j+1];loopinc=looping[j+2];for(i=looping[j];i!=endloop;i+=loopinc){right1=right^keys[i];right2=((right>>>4)|(right<<28))^keys[i+1];temp=left;left=right;right=temp^(spfunction2[(right1>>>24)&0x3f]|spfunction4[(right1>>>16)&0x3f]|spfunction6[(right1>>>8)&0x3f]|spfunction8[right1&0x3f]|spfunction1[(right2>>>24)&0x3f]|spfunction3[(right2>>>16)&0x3f]|spfunction5[(right2>>>8)&0x3f]|spfunction7[right2&0x3f]);}
temp=left;left=right;right=temp;}
left=((left>>>1)|(left<<31));right=((right>>>1)|(right<<31));temp=((left>>>1)^right)&0x55555555;right^=temp;left^=(temp<<1);temp=((right>>>8)^left)&0x00ff00ff;left^=temp;right^=(temp<<8);temp=((right>>>2)^left)&0x33333333;left^=temp;right^=(temp<<2);temp=((left>>>16)^right)&0x0000ffff;right^=temp;left^=(temp<<16);temp=((left>>>4)^right)&0x0f0f0f0f;right^=temp;left^=(temp<<4);if(mode==1){if(encrypt){cbcleft=left;cbcright=right;}else{left^=cbcleft2;right^=cbcright2;}}
tempresult+=String.fromCharCode((left>>>24),((left>>>16)&0xff),((left>>>8)&0xff),(left&0xff),(right>>>24),((right>>>16)&0xff),((right>>>8)&0xff),(right&0xff));chunk+=8;if(chunk==512){result+=tempresult;tempresult="";chunk=0;}}
return result+tempresult;},des_createKeys:function(key){pc2bytes0=new Array(0,0x4,0x20000000,0x20000004,0x10000,0x10004,0x20010000,0x20010004,0x200,0x204,0x20000200,0x20000204,0x10200,0x10204,0x20010200,0x20010204);pc2bytes1=new Array(0,0x1,0x100000,0x100001,0x4000000,0x4000001,0x4100000,0x4100001,0x100,0x101,0x100100,0x100101,0x4000100,0x4000101,0x4100100,0x4100101);pc2bytes2=new Array(0,0x8,0x800,0x808,0x1000000,0x1000008,0x1000800,0x1000808,0,0x8,0x800,0x808,0x1000000,0x1000008,0x1000800,0x1000808);pc2bytes3=new Array(0,0x200000,0x8000000,0x8200000,0x2000,0x202000,0x8002000,0x8202000,0x20000,0x220000,0x8020000,0x8220000,0x22000,0x222000,0x8022000,0x8222000);pc2bytes4=new Array(0,0x40000,0x10,0x40010,0,0x40000,0x10,0x40010,0x1000,0x41000,0x1010,0x41010,0x1000,0x41000,0x1010,0x41010);pc2bytes5=new Array(0,0x400,0x20,0x420,0,0x400,0x20,0x420,0x2000000,0x2000400,0x2000020,0x2000420,0x2000000,0x2000400,0x2000020,0x2000420);pc2bytes6=new Array(0,0x10000000,0x80000,0x10080000,0x2,0x10000002,0x80002,0x10080002,0,0x10000000,0x80000,0x10080000,0x2,0x10000002,0x80002,0x10080002);pc2bytes7=new Array(0,0x10000,0x800,0x10800,0x20000000,0x20010000,0x20000800,0x20010800,0x20000,0x30000,0x20800,0x30800,0x20020000,0x20030000,0x20020800,0x20030800);pc2bytes8=new Array(0,0x40000,0,0x40000,0x2,0x40002,0x2,0x40002,0x2000000,0x2040000,0x2000000,0x2040000,0x2000002,0x2040002,0x2000002,0x2040002);pc2bytes9=new Array(0,0x10000000,0x8,0x10000008,0,0x10000000,0x8,0x10000008,0x400,0x10000400,0x408,0x10000408,0x400,0x10000400,0x408,0x10000408);pc2bytes10=new Array(0,0x20,0,0x20,0x100000,0x100020,0x100000,0x100020,0x2000,0x2020,0x2000,0x2020,0x102000,0x102020,0x102000,0x102020);pc2bytes11=new Array(0,0x1000000,0x200,0x1000200,0x200000,0x1200000,0x200200,0x1200200,0x4000000,0x5000000,0x4000200,0x5000200,0x4200000,0x5200000,0x4200200,0x5200200);pc2bytes12=new Array(0,0x1000,0x8000000,0x8001000,0x80000,0x81000,0x8080000,0x8081000,0x10,0x1010,0x8000010,0x8001010,0x80010,0x81010,0x8080010,0x8081010);pc2bytes13=new Array(0,0x4,0x100,0x104,0,0x4,0x100,0x104,0x1,0x5,0x101,0x105,0x1,0x5,0x101,0x105);var iterations=key.length>8?3:1;var keys=new Array(32*iterations);var shifts=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0);var lefttemp,righttemp,m=0,n=0,temp;for(var j=0;j<iterations;j++){var left=(key.charCodeAt(m++)<<24)|(key.charCodeAt(m++)<<16)|(key.charCodeAt(m++)<<8)|key.charCodeAt(m++);var right=(key.charCodeAt(m++)<<24)|(key.charCodeAt(m++)<<16)|(key.charCodeAt(m++)<<8)|key.charCodeAt(m++);temp=((left>>>4)^right)&0x0f0f0f0f;right^=temp;left^=(temp<<4);temp=((right>>>-16)^left)&0x0000ffff;left^=temp;right^=(temp<<-16);temp=((left>>>2)^right)&0x33333333;right^=temp;left^=(temp<<2);temp=((right>>>-16)^left)&0x0000ffff;left^=temp;right^=(temp<<-16);temp=((left>>>1)^right)&0x55555555;right^=temp;left^=(temp<<1);temp=((right>>>8)^left)&0x00ff00ff;left^=temp;right^=(temp<<8);temp=((left>>>1)^right)&0x55555555;right^=temp;left^=(temp<<1);temp=(left<<8)|((right>>>20)&0x000000f0);left=(right<<24)|((right<<8)&0xff0000)|((right>>>8)&0xff00)|((right>>>24)&0xf0);right=temp;for(var i=0;i<shifts.length;i++){if(shifts[i]){left=(left<<2)|(left>>>26);right=(right<<2)|(right>>>26);}
else{left=(left<<1)|(left>>>27);right=(right<<1)|(right>>>27);}
left&=-0xf;right&=-0xf;lefttemp=pc2bytes0[left>>>28]|pc2bytes1[(left>>>24)&0xf]|pc2bytes2[(left>>>20)&0xf]|pc2bytes3[(left>>>16)&0xf]|pc2bytes4[(left>>>12)&0xf]|pc2bytes5[(left>>>8)&0xf]|pc2bytes6[(left>>>4)&0xf];righttemp=pc2bytes7[right>>>28]|pc2bytes8[(right>>>24)&0xf]|pc2bytes9[(right>>>20)&0xf]|pc2bytes10[(right>>>16)&0xf]|pc2bytes11[(right>>>12)&0xf]|pc2bytes12[(right>>>8)&0xf]|pc2bytes13[(right>>>4)&0xf];temp=((righttemp>>>16)^lefttemp)&0x0000ffff;keys[n++]=lefttemp^temp;keys[n++]=righttemp^(temp<<16);}}
return keys;}};var DESExtras={BASE64:['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'],stringToBase64:function(s){var r="",c1,c2,c3;for(var i=0;i<s.length;i+=3){c1=s.charCodeAt(i);c2=i+1>=s.length?0:s.charCodeAt(i+1);c3=i+2>=s.length?0:s.charCodeAt(i+2);r+=this.BASE64[c1>>2];r+=this.BASE64[((c1&0x3)<<4)|(c2>>4)];r+=c2?this.BASE64[((c2&0xf)<<2)|(c3>>6)]:"=";r+=c3?this.BASE64[c3&0x3f]:"=";}
return r;},base64ToString:function(s){var decode=new Object();for(var i=0;i<this.BASE64.length;i++){decode[this.BASE64[i]]=i;}
decode['=']=0;var r="",c1,c2,c3,c4,len=s.length;s+="====";for(var i=0;i<len;i+=4){c1=s.charAt(i);c2=s.charAt(i+1);c3=s.charAt(i+2);c4=s.charAt(i+3);r+=String.fromCharCode(((decode[c1]<<2)&0xff)|(decode[c2]>>4));if(c3!='=')r+=String.fromCharCode(((decode[c2]<<4)&0xff)|(decode[c3]>>2));if(c4!='=')r+=String.fromCharCode(((decode[c3]<<6)&0xff)|decode[c4]);}
return r;},stringToHex:function(s){var r="0x";var hexes=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");for(var i=0;i<s.length;i++){r+=hexes[s.charCodeAt(i)>>4]+hexes[s.charCodeAt(i)&0xf];}
return r;},hexToString:function(h){var r="";for(var i=(h.substr(0,2)=="0x")?2:0;i<h.length;i+=2){r+=String.fromCharCode(parseInt(h.substr(i,2),16));}
return r;}};;(function(){if(!this.JSON){this.JSON={};}
(function(){function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+
partial.join(',\n'+gap)+'\n'+
mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+
mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());var Sroc=(function(){return{counter:1,get:function(url,params,callback){this.request("GET",url,params,callback)},post:function(url,params,callback){this.request("POST",url,params,callback)},remove:function(url,params,callback){this.request("DELETE",url,params,callback)},request:function(method,url,params,callback){var name=this._callbackName();window[name]=function(status,headers,body){callback.call(null,status,headers,body);window[name]=null;try{delete window[name];}
catch(e){}}
this.load(this.url(method,url,params,name));},load:function(url){var done=false;var script=document.createElement("script");script.src=url+(url.indexOf("?")>-1?"&":"?")+"_MELI_SDK_RANDOM="+Math.random()*Math.random();script.async=true;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;script.onload=script.onreadystatechange=null;if(script&&script.parentNode){script.parentNode.removeChild(script)}}}
document.getElementsByTagName("head")[0].appendChild(script)},url:function(method,url,params,callbackName){var key;url+=url.indexOf("?")>-1?"&":"?";url+="callback="+callbackName;if(method=="GET"){for(key in params){if(params.hasOwnProperty(key)){url+="&"+key+"="+encodeURIComponent(params[key])}}}
else{url+="&_method="+method+"&_body="+encodeURIComponent(JSON.stringify(params))}
return url},_callbackName:function(){return"jsonp"+(this.counter++)}}})();window.Sroc=Sroc;})();var XAuth=(function(){var j=window;var q=!(j.postMessage&&j.localStorage&&j.JSON);var data={n:"static.mlstatic.com",xdp:"/xd.html",port:""}
data.e="http://"+data.n+(data.port?":"+data.port:"")+data.xdp;var g=null;var a=null;var p={};var d=0;var m=[];var listeners=null;function init(){if(data)data.e="http://"+data.n+(data.port?":"+data.port:"")+data.xdp;if(listeners)return;else{if(j.addEventListener){j.addEventListener("message",o,false)}else{if(j.attachEvent){j.attachEvent("onmessage",o)}}
listeners=true;}}
function o(s){try{var u=s.origin.split("://")[1].split(":")[0];var n=data.n;if(u!=n){return}
var t=JSON.parse(s.data);if(!t){return}
if(t.cmd=="xauth::ready"){a=g.contentWindow;setTimeout(f,0);return}else if(t.cmd=="meli::loginComplete"){MercadoLibre._loginComplete(t.data);return;}else if(t.cmd=="meli::authComplete"){MercadoLibre._authComplete(t.data);return;}else if(t.cmd=="meli::logout"){MercadoLibre._logoutComplete();}else if(t.cmd=="meli::close"){close();}
var r=p[t.id];if(r){if(r.callback){r.callback(t)}
delete p[t.id]}}catch(error){}}
function i(){if(g||a){g.src=data.e;return}
var s=j.document;g=s.createElement("iframe");g.id="xauthIFrame";var r=g.style;r.position="absolute";r.left=r.top="-999px";s.body.appendChild(g);init();g.src=data.e;}
function f(){for(var r=0;r<m.length;r++){c(p[m.shift()])}}
function c(r){a.postMessage(JSON.stringify(r),data.e)}
function h(r){if(q){return}
r.id=d;p[d++]=r;if(!g||!a){m.push(r.id);i()}else{c(r)}}
function l(r){if(!r){r={}}
var s={cmd:"xauth::retrieve",retrieve:r.retrieve||[],callback:r.callback||null};h(s)}
function k(r){if(!r){r={}}
var s={cmd:"xauth::extend",data:r.data||"",key:r.key||"",expire:r.expire||0,extend:r.extend||[],session:r.session||false,callback:r.callback||null};h(s)}
function b(r){if(!r){r={}}
var s={cmd:"xauth::expire",key:r.key||null,callback:r.callback||null};h(s)}
return{init:init,data:data,extend:k,retrieve:l,expire:b,disabled:q}})();;(function(cookie,XAuth){var Store=function(){this.map={};return this;};Store.localStorageAvailable=(function(){try{return('localStorage'in window)&&window.localStorage!==null;}catch(e){return false;}})();if(Store.localStorageAvailable){Store.prototype.get=function(key){return window.localStorage.getItem(key);};Store.prototype.set=function(key,value){window.localStorage.setItem(key,value);};Store.prototype.getSecure=function(key,secret){var crypto=this.get(key);if(secret&&secret!=""&&crypto){var value=this._decrypt(secret,crypto);var length=parseInt(this.get(key+".length"));return value.substring(0,length);}
return undefined;}
Store.prototype.setSecure=function(key,value,options){options=options||{};var domain=options.domain?options.domain:window.location.hostname;var secret=this._generateSecret();var data=JSON.stringify(value.data);var crypto=this._encrypt(secret,data);value.data=crypto;this.set(key,JSON.stringify(value));return{s:secret,l:data.length};}
Store.prototype._encrypt=function(secret,message){var crypto=DESCipher.des(secret,message,1,0,null);crypto=DESExtras.stringToHex(crypto);return crypto;}
Store.prototype._decrypt=function(secret,crypto){var message=DESExtras.hexToString(crypto);message=DESCipher.des(secret,message,0,0,null);return message;}
Store.prototype._generateSecret=function(){var v=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','0']
for(var j,x,i=v.length;i;j=parseInt(Math.random()*i),x=v[--i],v[i]=v[j],v[j]=x);var secret=v.slice(0,8).join("");return secret;}}else{Store.prototype.get=function(key){return this.map[key];};Store.prototype.set=function(key,value){this.map[key]=value;};}
var Sroc=window.Sroc;var MercadoLibre={baseURL:"https://api.mercadolibre.com",authorizationURL:"http://auth.mercadolibre.com/authorization",authorizationStateURL:"https://www.mercadolibre.com/jms/SITE/oauth/authorization/state",logoutURL:"http://DOMAIN/jm/logout?urlTo=",AUTHORIZATION_STATE:"authorization_state",mlSites:{MLA:"com.ar",MLB:"com.br",MLU:"com.uy",MLC:"cl",MEC:"com.ec",MPE:"com.pe",MPT:"pt",MLV:"com.ve",MCO:"com.co",MCR:"co.cr",MPA:"com.pa",MRD:"com.do",MLM:"com.mx"},options:{},hash:{},callbacks:{},pendingCallbacks:[],store:new Store(),appInfo:null,isAuthorizationStateAvaible:false,authorizationState:{},authorizationStateAvailableCallbacks:[],authorizationStateCallbackInProgress:false,synchronizationInProgress:false,refreshing:false,showLogin:true,messages:(window.postMessage&&window.localStorage&&window.JSON),initialized:false,initCallbacks:[],_partial:function(func){var args=Array.prototype.slice.call(arguments,1);var self=this;return function(){var allArguments=args.concat(Array.prototype.slice.call(arguments));return func.apply(self,allArguments);};},init:function(options){this.options=options;this.messages=(window.postMessage&&window.localStorage&&window.JSON);if(this.options.test){this.baseURL=this.options.test;this.isAuthorizationStateAvaible=true;var status={state:"AUTHORIZED",authorization_info:{access_token:"faketoken",expires_in:new Date(new Date().getTime()+parseInt(10800)*1000).getTime(),user_id:null}}
this.authorizationState[this._getKey()]=status;}
if(this.options.site_id=="MLB"||this.options.site_id=="MPT"){authorizationURL=authorizationURL.replace("mercadolibre","mercadolivre");authorizationStateURL=authorizationStateURL.replace("mercadolibre","mercadolivre");}
this.logoutURL=this.logoutURL.replace("DOMAIN",this._getDomain());if(!this.options.xauth_domain)
this.options.xauth_domain="static.mlstatic.com";if(this.options.xauth_domain_fallback&&!this.messages)
this.options.xauth_domain=this.options.xauth_domain_fallback;if(!this.options.xd_url)
this.options.xd_url="/xd.html";if(typeof(this.options.show_login)!="undefined")
this.showLogin=this.options.show_login;XAuth.data.n=this.options.xauth_domain;XAuth.data.xdp=this.options.xd_url;XAuth.data.port=this.options.xauth_port;if(window.self==window.top)
XAuth.init();this.initialized=true;while(this.initCallbacks.length>0){var callback=this.initCallbacks.shift();try{callback();}catch(e){};}},_getDomain:function(){if(this.mlSites[this.options.site_id]==null)
return null;var domain="www.mercadoli";if(this.options.site_id=="MLB"||this.options.site_id=="MPT")
domain+="vre";else
domain+="bre";domain+=this.mlSites[this.options.site_id];return domain;},waitForInit:function(callback){if(this.initialized)
callback();else
this.initCallbacks.push(callback);},_isExpired:function(authState){if(authState==null){return true;}
if(typeof(authState.authorization_info)=="undefined")
return true;var expirationTime=authState.authorization_info.expires_in;if(expirationTime){var dateToExpire=new Date(parseInt(expirationTime));var now=new Date();if(dateToExpire<=now){return true;}}
return false;},_decryptAuthorizationState:function(state){var retVal=this.store._decrypt(this.secret.s,state);var length=parseInt(this.secret.l);retVal=retVal.substring(0,length);retVal=JSON.parse(retVal);return retVal;},_synchronizeAuthorizationState:function(tryRemote){if(!this.initialized){this.initCallbacks.push(this._partial(this._synchronizeAuthorizationState,tryRemote));return;}
var key=this._getKey();var obj=this;if(this.messages){XAuth.retrieve({retrieve:[key],callback:function(value){obj._updateSecret();var notify=true;if(tryRemote&&(value.tokens[key]==null||((obj.secret==null||obj.secret=="")&&(cookie("ats")==null||cookie("ats")=="")))){obj._getRemoteAuthorizationState();}else{var authState=null
if(typeof(value.tokens[key])!="undefined"){var authState=null;try{authState=value.tokens[key].data;authState=obj._decryptAuthorizationState(authState);authState.expiration=authState.expire;}catch(e){authState=null;}
if(obj._isExpired(authState)&&tryRemote){obj._getRemoteAuthorizationState();notify=false;}}
if(notify){obj.authorizationState[key]=authState;obj._onAuthorizationStateAvailable(authState);}}}});}else{obj._getRemoteAuthorizationState();}},_getRemoteAuthorizationState:function(){if(!this.initialized){this.initCallbacks.push(this._getRemoteAutorizationState);return;}
if(!this.authorizationStateCallbackInProgress){this.authorizationStateCallbackInProgress=true;if(this.appInfo==null){this._getApplicationInfo(this._authorize);}else{this._authorize();}}},_getApplicationInfo:function(callback){if(!this.initialized){this.initCallbacks.push(this._partial(this._getApplicationInfo,callback));return;}
var self=this;this.get("/applications/"+this.options.client_id,{},function(response){self.appInfo=response[2];if(callback)callback();});},_onAuthorizationStateAvailable:function(authorizationState){this.authorizationStateCallbackInProgress=false;this.isAuthorizationStateAvaible=true;this._triggerSessionChange();var localCallbacks=this.authorizationStateAvailableCallbacks.splice(0,this.authorizationStateAvailableCallbacks.length);while(localCallbacks.length>0){var callback=localCallbacks.shift();callback(authorizationState);}},getLoginStatus:function(callback){if(!this.initialized){this.initCallbacks.push(this._partial(this.getLoginStatus,callback));return;}
if(this.isAuthorizationStateAvaible)
{var key=this._getKey();if(this.authorizationState[key]!=null&&!this._isExpired(this.authorizationState[key]))
{callback(this.authorizationState[key])}
else
{this.isAuthorizationStateAvaible=false;this.authorizationStateAvailableCallbacks.push(callback);this._synchronizeAuthorizationState(true);}}
else
{this.authorizationStateAvailableCallbacks.push(callback);this._synchronizeAuthorizationState(true);}},_expireToken:function(key){if(!this.initialized){this.initCallbacks.push(this._partial(this._expireToken,key));return;}
XAuth.expire({key:key});MercadoLibre.authorizationState[key]=null;cookie("ats",null,{domain:document.domain,path:"/"});this.secret=null;},tokenIssue:function(response){return response[0]!=200&&((response[2].error!=null&&((Object.prototype.toString.call(response[2].error)==='[object Array]'&&response[2].error[0].match(/.*(token|OAuth).*/))||(typeof(response[2].error)==='string'&&response[2].error.match(/.*(token|OAuth).*/))))||(response[2].message!=null&&response[2].message.match(/.*(token|OAuth).*/))||response[0]==403)},_wrap:function(url,method,params,options,callback){var key=this._getKey();var self=this;var wrapper=function(response){var properCallback=self._partial(callback,response);var success=function(){if(method=="get")
Sroc.get(self._url(url),params,self._wrap(url,method,params,{},callback));else if(method=="post"){}};var failure=function(){properCallback();};if(self.tokenIssue(response)){if(!self.authorizationStateCallbackInProgress&&self.isAuthorizationStateAvaible){self.isAuthorizationStateAvaible=false;self._expireToken(key);}
if(options.retry)
self.withLogin(success,failure,self.showLogin);else
failure();}else{properCallback();}};return wrapper;},get:function(url,params,callback,next){if(!this.initialized){this.initCallbacks.push(this._partial(this.get,url,params,callback,next));return;}
if(!next)
next=this._wrap(url,"get",params,{retry:true},callback);Sroc.get(this._url(url),params,next);},post:function(url,params,callback){if(!this.initialized){this.initCallbacks.push(this._partial(this.post,url,params,callback));return;}
var self=this;var call=function(){Sroc.post(self._url(url),params,self._wrap(url,"post",params,{},callback));}
this.withLogin(call,callback,self.showLogin);},remove:function(url,params,callback){if(!this.initialized){this.initCallbacks.push(this._partial(this.remove,url,params,callback));return;}
if(!params){params={};}
Sroc.remove(this._url(url),params,this._wrap(url,"delete",params,{},callback));},getToken:function(){var key=this._getKey();var authorizationState=this.authorizationState[key];if(authorizationState!=null){var token=authorizationState.authorization_info.access_token;var expirationTime=authorizationState.authorization_info.expires_in;if(token&&expirationTime){var dateToExpire=new Date(parseInt(expirationTime));var now=new Date();if(dateToExpire<=now){token=null;}}
return(token&&token.length>0)?token:null;}else{return null;}},withLogin:function(successCallback,failureCallback,forceLogin){if(!this.initialized){this.initCallbacks.push(this._partial(this.withLogin,successCallback,failureCallback,forceLogin));return;}
var self=this;this.getLoginStatus(function(authorizationState){if(authorizationState.state=='AUTHORIZED'){successCallback();}else if(forceLogin){self.pendingCallbacks.push(successCallback);self.login();}else{if(failureCallback){failureCallback();}}});},login:function(){if(!this.initialized){this.initCallbacks.push(this.login);return;}
this._popup(this._authorizationURL(true));},_iframe:function(url,id){if(!id)
id="xauthIFrame";var iframe=$("#"+id);if(!iframe||iframe.length==0){var elem=window.document.createElement("iframe");var r=elem.style;r.position="absolute";r.left=r.top="-999px";elem.id=id;window.document.body.appendChild(elem);elem.src=url;}else
iframe[0].src=url;},_authorize:function(){MercadoLibre._iframe(MercadoLibre._authorizationStateURL());},bind:function(event,callback){if(typeof(this.callbacks[event])=="undefined")
this.callbacks[event]=[];this.callbacks[event].push(callback);},trigger:function(event,args){var callbacks=this.callbacks[event];if(typeof(callbacks)=="undefined"){return;}
for(var i=0;i<callbacks.length;i++){callbacks[i].apply(null,args);}},refreshToken:function(){XAuth.expire({key:this._getKey()});this.authorizationState[this._getKey()]=null;this._synchronizeAuthorizationState(true);},logout:function(){this._expireToken(this._getKey());this._iframe(this._logoutURL(),"logoutFrame");},_triggerSessionChange:function(){this.trigger("session.change",[this.getToken()?true:false]);},getSession:function(){return this.authorizationState[this._getKey()];},_url:function(url){url=this.baseURL+url;var urlParams="";var token=this.getToken();if(token){var append=url.indexOf("?")>-1?"&":"?";url+=append+"access_token="+token;}
if(urlParams.length>0){append=url.indexOf("?")>-1?"&":"?";url+=append+urlParams;}
return url;},_parseHash:function(){var localHash=window.location.hash;if(localHash.length==0){return;}
localHash=localHash.substr(1);if(localHash.length==0){return;}
var self=this;if(localHash[0]=='%'||localHash[0]=='{')
self.hash=JSON.parse(unescape(localHash));else{var pairs=localHash.split("&");for(var i=0;i<pairs.length;i++){var pair=null;if(pair=pairs[i].match(/([A-Za-z_\-]+)=(.*)$/)){self.hash[pair[1]]=pair[2];}}}},_notifyParent:function(message){var p=window.opener||window.parent;if(typeof(p)=="undefined")return;if(!this.messages){if(message.class=="meli::loginComplete")
p._loginComplete(message.secret);else if(message.class=="meli::authComplete")
p._authComplete(message.secret);else if(message.class=="meli::logout")
p._logoutComplete();else if(message.class=="meli::close")
p._logoutComplete();}else p.postMessage(JSON.stringify({cmd:message.class,data:message.secret}),"*");},_checkPostAuthorization:function(){var p=window.opener||window.parent;if(this.hash.state&&this.hash.state=="iframe"){if(!this.hash.error){this.options={client_id:RegExp("(APP_USR\\-)(\\d+)(\\-)").exec(this.hash.access_token)[2]}
var key=this._getKey();var authorizationState={state:'AUTHORIZED',authorization_info:{access_token:this.hash.access_token,expires_in:new Date(new Date().getTime()+parseInt(this.hash.expires_in)*1000).getTime(),user_id:this.hash.user_id}};var secret=this.store.setSecure(key,{key:key,data:authorizationState,expire:authorizationState.authorization_info.expires_in,extend:["*"]});}
this._notifyParent({class:"meli::loginComplete",secret:secret});}else if(this.hash.state){authorizationState=this.hash;var key=this.hash.client_id+this.AUTHORIZATION_STATE;if(!this.hash.authorization_info&&(this.hash.state=="UNKNOWN"||this.hash.state=="NOT_AUTHORIZED")){this.hash.authorization_info={access_token:null,expires_in:new Date(new Date().getTime()+parseInt(10800)*1000).getTime(),user_id:null}}else if(this.hash.authorization_info){var expiration=new Date().getTime()+(this.hash.authorization_info?this.hash.authorization_info.expires_in*1000:0);this.hash.authorization_info.expires_in=expiration;}
var secret=this.store.setSecure(key,{key:key,data:authorizationState,expire:expiration,extend:["*"]});this._notifyParent({class:"meli::authComplete",secret:secret});}else if(this.hash.action=="logout"){this._notifyParent({class:"meli::logout"});}},_loginComplete:function(secret){if(this._popupWindow){var isModal=false;try{isModal=this._popupWindow.type&&this._popupWindow.type=="modal";}catch(e){}
if(isModal){this._popupWindow.hide();this._popupWindow=null;}
else
this._popupWindow.postMessage(JSON.stringify({cmd:"meli::close"}),"*");}
var self=this;this.authorizationStateAvailableCallbacks.push(function(authState){while(self.pendingCallbacks.length>0)
(self.pendingCallbacks.shift())();});this._storeSecret(secret);this._synchronizeAuthorizationState(false);},_logoutComplete:function(){this._storeSecret(null);$('#logoutFrame').remove();this._triggerSessionChange();},_authComplete:function(secret){var self=this;this._storeSecret(secret);this._synchronizeAuthorizationState(false);},_storeSecret:function(secret){cookie("ats",JSON.stringify(secret),{domain:document.domain,path:"/"});this.secret=secret;},_popup:function(url){if(!this._popupWindow||this._popupWindow.closed){var width=830;var height=510;var left=parseInt((screen.availWidth-width)/2);var top=parseInt((screen.availHeight-height)/2);if(this.options.login_function)
this._popupWindow=this.options.login_function(url).show();else
this._popupWindow=(window.open(url,"","toolbar=no,status=no,location=yes,menubar=no,resizable=no,scrollbars=no,width="+width+",height="+height+",left="+left+",top="+top+"screenX="+left+",screenY="+top));this._popup.on}else{if(this._popupWindow.focus)
this._popupWindow.focus();}},_getKey:function(){var key=null;try{key=this.options.client_id+this.AUTHORIZATION_STATE;}catch(Error){key="";}
return key;},_updateSecret:function(){try{this.secret=JSON.parse(unescape(cookie("ats")));}catch(e){this.secret=null;}},_authorizationStateURL:function(){return this.authorizationStateURL.replace("SITE",this.appInfo.site_id.toLowerCase())+"?client_id="+this.options.client_id+"&redirect_uri="+encodeURIComponent(this._xd_url())+"&response_type=token";},_authorizationURL:function(interactive){return this.authorizationURL+"?redirect_uri="+encodeURIComponent(this._xd_url())+"&response_type=token"+"&client_id="+this.options.client_id+"&state=iframe"+"&display=popup"+"&interactive="+(interactive?1:0);},_logoutURL:function(){return this.logoutURL+encodeURIComponent(this._xd_url()+"#action=logout");},_xd_url:function(){return"http://"+this.options.xauth_domain+(this.options.xauth_port?":"+this.options.xauth_port:"")+this.options.xd_url;}};MercadoLibre._parseHash();MercadoLibre._checkPostAuthorization();window.MercadoLibre=MercadoLibre;})(cookie,XAuth);(function(cookie){var MercadoLibreW={init:function(){if(typeof(MercadoLibre)==="undefined"){setTimeout('MercadoLibreW.init()',50);return;}
MercadoLibre.oldGetLoginStatus=MercadoLibre.getLoginStatus;MercadoLibre.oldExpireToken=MercadoLibre._expireToken;var self=this;MercadoLibre.getLoginStatus=function(callback){var newCallback=self._partial(self.getLoginStatus,callback);MercadoLibre.oldGetLoginStatus(newCallback);}
MercadoLibre._expireToken=function(key){MercadoLibre.oldExpireToken(key);var domain=document.domain.slice(document.domain.indexOf("."),document.domain.length);cookie("orgapi",null,{domain:domain,path:"/"});cookie("ats",null,{domain:domain,path:"/"});MercadoLibre.isAuthorizationStateAvaible=false;}
MercadoLibre._storeSecret=function(secret){var domain=document.domain.slice(document.domain.indexOf("."),document.domain.length);cookie("ats",JSON.stringify(secret),{domain:domain,path:"/"});this.secret=secret;}
MercadoLibre._getApplicationInfo=function(callback){MercadoLibre.appInfo={id:MercadoLibre.options.client_id,site_id:MercadoLibre.options.site_id};if(callback)callback();}},_expireToken:function(key){MercadoLibre.oldExpireToken(key);var domain=document.domain.slice(document.domain.indexOf("."),document.domain.length);cookie("ats",null,{domain:domain,path:"/"});MercadoLibre.isAuthorizationStateAvaible=false;},_partial:function(func){var args=Array.prototype.slice.call(arguments,1);var self=this;return function(){var allArguments=args.concat(Array.prototype.slice.call(arguments));return func.apply(self,allArguments);};},getLoginStatus:function(callback,status){if(status.state=="AUTHORIZED"){if((cookie("orgapi")==null||cookie("orgapi")=="0")&&(cookie("orgid")==null||cookie("orgid")=="0")){MercadoLibre.logout();status=null;}else if(cookie("orgapi")!=null&&cookie("orgapi")!="0"){if(cookie("orguseridp")!=null&&cookie("orguseridp")!="0"){if(cookie("orguseridp")!=status.authorization_info.user_id){if(MercadoLibre.refreshing){MercadoLibre.logout();MercadoLibre.refreshing=false;status=null;}else{MercadoLibre.refreshing=true;this._expireToken(MercadoLibre._getKey());MercadoLibre.getLoginStatus(callback);return;}}}}else if(cookie("orgid")!=null&&cookie("orgid")!="0"){status.state="IDENTIFIED";status.authorization_info.access_token=cookie("orgid");MercadoLibre.authorizationState[MercadoLibre._getKey()];}}else if(status.state=="UNKNOWN"||status.state=="NOT_AUTHORIZED"){if(cookie("orgapi")!=null&&cookie("orgapi")!="0"){status.state="AUTHORIZED";status.authorization_info={access_token:cookie("orgapi"),expires_in:new Date(new Date().getTime()+parseInt(10800)*1000).getTime(),user_id:null}
MercadoLibre.authorizationState[MercadoLibre._getKey()];}else if(cookie("orgid")!=null&&cookie("orgid")!="0"){status.state="IDENTIFIED";status.authorization_info={access_token:cookie("orgid"),expires_in:new Date(new Date().getTime()+parseInt(10800)*1000).getTime(),user_id:null}
MercadoLibre.authorizationState[MercadoLibre._getKey()];}}
callback(status);}}
window.MercadoLibreW=MercadoLibreW;MercadoLibreW.init();})(cookie);})();
